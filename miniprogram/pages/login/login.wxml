<view class="page">

  <!-- 背景装饰 -->
  <view class="bg-decoration">
    <view class="bg-circle bg-circle-1"></view>
    <view class="bg-circle bg-circle-2"></view>
    <view class="bg-circle bg-circle-3"></view>
  </view>

  <!-- 内容区 -->
  <view class="content">

    <!-- Logo/图标 -->
    <view class="logo-section">
      <view class="logo-circle">
        <text class="logo-text">易</text>
      </view>
      <view class="app-name">一盏</view>
      <view class="app-desc">探索命理，洞察人生</view>
    </view>

    <!-- 登录提示 -->
    <view class="login-hint">
      <view class="hint-icon">🔐</view>
      <view class="hint-text">登录后解锁完整AI解读内容</view>
    </view>

    <!-- 用户信息表单 -->
    <view class="user-form">

      <!-- 头像选择 -->
      <view class="form-item">
        <view class="form-label">选择头像</view>
        <button
          class="avatar-btn"
          open-type="chooseAvatar"
          bindchooseavatar="onChooseAvatar"
        >
          <image
            class="avatar-preview"
            src="{{tempAvatarUrl}}"
            mode="aspectFill"
          ></image>
          <view class="avatar-mask" wx:if="{{!tempAvatarUrl}}">
            <text class="avatar-plus">+</text>
          </view>
        </button>
      </view>

      <!-- 昵称输入 -->
      <view class="form-item">
        <view class="form-label">设置昵称</view>
        <input
          class="nickname-input"
          type="nickname"
          placeholder="请输入昵称"
          value="{{tempNickName}}"
          bindinput="onNicknameInput"
        />
      </view>

    </view>

    <!-- 登录按钮 -->
    <button
      class="login-btn {{canLogin ? '' : 'login-btn-disabled'}}"
      bindtap="onConfirmLogin"
      disabled="{{!canLogin}}"
    >
      <text class="btn-icon">💬</text>
      <text class="btn-text">{{canLogin ? '确认登录' : '请完善信息'}}</text>
    </button>

    <!-- 用户协议提示 -->
    <view class="agreement-tip">
      <text class="tip-text">登录即表示同意</text>
      <text class="link-text" bindtap="onAgreement">《用户协议》</text>
      <text class="tip-text">和</text>
      <text class="link-text" bindtap="onPrivacy">《隐私政策》</text>
    </view>

  </view>

</view>
