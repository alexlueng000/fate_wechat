<view class="page">

<!-- â‘  ä¸€å¥è¯ç»“è®ºï¼ˆæœ¬åœ°ç§’å‡ºï¼‰ -->
<view class="hero">
  <view class="hero-title">ä½ çš„å‘½ç›˜å…³é”®è¯</view>
  <view class="hero-tags">
    <text class="tag" wx:for="{{summary.keywords}}" wx:key="*this">{{item}}</text>
  </view>
  <view class="hero-one">{{summary.oneLiner}}</view>
</view>

<!-- â‘¡ å½“å‰é˜¶æ®µï¼ˆåªç»™ç°åœ¨+ä¸‹ä¸€æ­¥ï¼‰ -->
<view class="stage">
  <view class="stage-title">ä½ ç°åœ¨çš„é˜¶æ®µ</view>
  <view class="stage-cards">
    <view class="stage-card">
      <view class="stage-h">å½“å‰å¤§è¿</view>
      <view class="stage-v">{{currentDayun.ganzhi}}</view>
      <view class="stage-s">{{currentDayun.range}}</view>
    </view>
    <view class="stage-card" wx:if="{{nextDayun}}">
      <view class="stage-h">ä¸‹ä¸€æ­¥å¤§è¿</view>
      <view class="stage-v">{{nextDayun.ganzhi}}</view>
      <view class="stage-s">{{nextDayun.range}}</view>
    </view>
  </view>
</view>

<!-- â‘¢ CTAï¼šæ˜ç¡®åŠ¨ä½œ -->
<button class="cta" bindtap="onStartChat">
  è§£è¯»æˆ‘çš„å‘½ç›˜
</button>
<view class="cta-sub">å¯ç»§ç»­é—®ï¼šäº‹ä¸š / è´¢è¿ / æ„Ÿæƒ…</view>

<!-- åˆ†äº«æŒ‰é’® -->
<button class="share-btn" open-type="share">
  <text class="share-icon">ğŸ“¤</text>
  <text>åˆ†äº«ç»™å¥½å‹</text>
</button>

<!-- â‘£ ä¸“ä¸šç»†èŠ‚æŠ˜å  -->
<view class="detail">
  <view class="summary" bindtap="toggleSummary">
    <view class="sum-left">
      <text class="sum-title">æŸ¥çœ‹ä¸“ä¸šå‘½ç›˜ç»“æ„</text>
      <view class="sum-pillars">
        <text class="p-tag">å¹´</text><text class="p-val">{{pillars.year}}</text>
        <text class="p-tag">æœˆ</text><text class="p-val">{{pillars.month}}</text>
        <text class="p-tag">æ—¥</text><text class="p-val">{{pillars.day}}</text>
        <text class="p-tag">æ—¶</text><text class="p-val">{{pillars.hour}}</text>
      </view>
    </view>
    <text class="sum-toggle">{{summaryOpen ? 'æ”¶èµ· â–²' : 'å±•å¼€ â–¼'}}</text>
  </view>

  <view wx:if="{{summaryOpen}}" class="card">
    <!-- å››æŸ±è¡¨ï¼šä½ åŸæ¥çš„ table ä»£ç ç›´æ¥æ”¾è¿›æ¥ -->
    <view class="table">
      <view class="thead">
        <view class="th first">å››æŸ±</view>
        <view class="th">å¹´æŸ±</view>
        <view class="th">æœˆæŸ±</view>
        <view class="th">æ—¥æŸ±</view>
        <view class="th">æ—¶æŸ±</view>
      </view>
      <view class="trow">
        <view class="td first">å¤©å¹²</view>
        <view class="td" wx:for="{{table.tiangan}}" wx:key="index">{{item}}</view>
      </view>
      <view class="trow">
        <view class="td first">åœ°æ”¯</view>
        <view class="td" wx:for="{{table.dizhi}}" wx:key="index">{{item}}</view>
      </view>
    </view>

    <!-- å¤§è¿ï¼ˆå…¨é‡ï¼‰ -->
    <view class="section">
      <view class="sec-title">å¤§è¿ï¼ˆå…¨é‡ï¼‰</view>
      <view class="luck-grid">
        <block wx:for="{{dayun}}" wx:key="index">
          <view class="luck-card4">
            <text class="luck-ganzhi">{{item.ganzhi}}</text>
            <text class="luck-age">{{item.range}}</text>
          </view>
        </block>
      </view>
    </view>
  </view>
</view>

</view>
